{"version":3,"sources":["webpack:///./src/views/CameraDemo.vue","webpack:///./src/views/CameraDemo.vue?ef6b"],"names":["autoplay","ref","controls","width","height","msg","selectCameraDeviceIndex","CameraInputDevices","d","i","value","groupId","btnTakePhotoClicked","name","data","mounted","this","_initVueAppVueApp","watch","val","oldval","console","log","showSelectedDevice","methods","navigator","mediaDevices","enumerateDevices","devices","CameraDevices","filter","kind","length","push","deviceInfo","getUserMedia","video","audio","stream","$refs","srcObject","_context2d","canvas","getContext","drawImage","render","__scopeId"],"mappings":"qNAOWA,SAAA,GAASC,IAAI,QAAQC,SAAA,GAAUC,MAAM,MAAMC,OAAO,O,GACjDH,IAAI,SAASE,MAAM,MAAMC,OAAO,O,wEAP1C,eAiBM,YAhBN,eAGM,0BAFF,EAAAC,KAAG,GAGP,eAGM,YAFJ,eAAuE,QAAvE,EAAuE,UACvE,eAAuD,SAAvD,EAAuD,YAEzD,eAKM,Y,gBAJJ,eAES,U,qDAFQ,EAAAC,wBAAuB,K,qBACtC,eAA6E,2BAArD,EAAAC,oBAAkB,SAA1BC,EAAEC,G,wBAAlB,eAA6E,UAAhCC,MAAOD,GAAC,eAAID,EAAEG,SAAO,gB,qBADnD,EAAAL,2BAGjB,eAAwD,UAA/C,QAAK,8BAAE,EAAAM,qBAAA,EAAAA,oBAAA,sBAAqB,qB,wBAQ1B,G,oBAAA,CACbC,KAAM,aACNC,KAFa,WAGX,MAAM,CACJT,IAAI,aACJE,mBAAoB,GACpBD,wBAAwB,IAG5BS,QATa,WAUXC,KAAKC,qBAEPC,MAAM,CACJZ,wBADI,SACoBa,EAAIC,GAC1BC,QAAQC,IAAIH,GACZH,KAAKO,uBAGTC,QAAQ,CACAP,kBADA,WACoB,kLACJQ,UAAUC,aAAaC,mBADnB,cACpBC,EADoB,OAExBP,QAAQC,IAAIM,GACRC,EAAcD,EAAQE,QAAO,SAAApB,GAAI,MAAkB,eAAbA,EAAMqB,QAChDV,QAAQC,IAAIO,GACZ,EAAKtB,mBAAmByB,OAAO,GAC/B,IAAKzB,oBAAmB0B,KAAxB,uBAAgCJ,IANR,UAQlB,EAAKN,qBARa,+CAUpBA,mBAXA,WAWqB,uKAErBW,EAAa,EAAK3B,mBAAmB,EAAKD,yBAC9Ce,QAAQC,IAAIY,GAHa,SAINT,UAAUC,aAAaS,aAAa,CAACC,MAAOF,EAAYG,MAAOH,IAJzD,OAIrBI,EAJqB,OAKzB,EAAKC,MAAMH,MAAMI,UAAYF,EAE7B,EAAKG,WAAW,EAAKF,MAAMG,OAAOC,WAAW,MAPpB,8CAU3B/B,oBArBM,WAsBJI,KAAKyB,WAAWG,UAAU5B,KAAKuB,MAAMH,MAAO,EAAG,EAAG,IAAK,SC3D7D,EAAOS,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"js/chunk-2d2136cc.495f6217.js","sourcesContent":["<template>\n  <div>\n  <div>\n    {{msg}}\n\n  </div>\n  <div >\n    <video autoplay ref=\"video\" controls  width=\"480\" height=\"320\"></video>\n    <canvas ref=\"canvas\" width=\"480\" height=\"320\"></canvas>\n  </div>\n  <div>\n    <select v-model=\"selectCameraDeviceIndex\">\n      <option v-for=\"(d,i) in CameraInputDevices\" :value=\"i\">{{d.groupId}}</option>\n    </select>\n    <button @click=\"btnTakePhotoClicked\">Take photo</button>\n  </div>\n\n\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"CameraDemo\",\n  data(){\n    return{\n      msg:\"CameraDemo\",\n      CameraInputDevices: [],\n      selectCameraDeviceIndex:0\n    }\n  },\n  mounted() {\n    this._initVueAppVueApp()\n  },\n  watch:{\n    selectCameraDeviceIndex(val,oldval){\n      console.log(val)\n      this.showSelectedDevice();\n      }\n  },\n  methods:{\n    async _initVueAppVueApp() {\n      let devices = await navigator.mediaDevices.enumerateDevices();\n      console.log(devices)\n      let CameraDevices=devices.filter(value => value.kind===\"videoinput\")\n      console.log(CameraDevices)\n      this.CameraInputDevices.length=0\n      this.CameraInputDevices.push(...CameraDevices)\n\n      await this.showSelectedDevice()\n    },\n    async showSelectedDevice() {\n\n      let deviceInfo = this.CameraInputDevices[this.selectCameraDeviceIndex];\n      console.log(deviceInfo)\n      let stream = await navigator.mediaDevices.getUserMedia({video: deviceInfo, audio: deviceInfo})\n      this.$refs.video.srcObject = stream;\n\n      this._context2d=this.$refs.canvas.getContext(\"2d\")\n\n    },\n    btnTakePhotoClicked(){\n      this._context2d.drawImage(this.$refs.video, 0, 0, 480, 320);\n    }\n  }\n\n}\n\n</script>\n\n<style scoped>\n\n</style>","import { render } from \"./CameraDemo.vue?vue&type=template&id=71d98ae1&scoped=true\"\nimport script from \"./CameraDemo.vue?vue&type=script&lang=js\"\nexport * from \"./CameraDemo.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-71d98ae1\"\n\nexport default script"],"sourceRoot":""}